<!doctype html>
<html class="no-js " lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
<meta name="description" content="Terra High Level Dashboard">
<title>Sociocrypto: </title>
<link rel="icon" href="favicon.ico" type="image/x-icon"> <!-- Favicon-->
<link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">
<!-- Optional theme -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.7.5/css/bootstrap-select.min.css"  crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.18/js/bootstrap-select.min.js">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.18/css/bootstrap-select.min.css">
<!-- Latest compiled and minified JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!--Get your own code at fontawesome.com-->
<title>Font Awesome 5 Icons</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
<!-- Custom Css -->
<link rel="stylesheet" href="assets/css/main.css">
<link rel="stylesheet" href="assets/css/color_skins.css">
<link rel="stylesheet" href="assets/css/custom.css">
<link rel="icon" type="image/x-icon" href="assets\images\m-logo.webp">
</head>
<body class="theme-dashboard">
<!-- Page Loader -->
<div class="page-loader-wrapper">
    <div class="loader">
        <div class="m-t-30"><img class="zmdi-hc-spin" src="assets\images\m-logo.webp" width="48" height="48" alt="sociocrypto"></div>
        <p>Please wait...</p>        
    </div>
</div>
<!-- Overlay For Sidebars -->
<div class="overlay"></div>

<!-- Top Bar -->
<nav class="top_navbar">
    <div class="container">
        <div class="row clearfix">
            <div class="col-12">
                <div class="navbar-logo">
                    <a href="javascript:void(0);" class="bars"></a>
                    <a class="navbar-brand" href=""><img src="assets\images\metricsdao.webp" width="160" alt=""><span class="m-l-10"> dashboard</span></a>
                </div>
                <ul class="nav navbar-nav">
                </ul>
            </div>
        </div>        
    </div>
</nav>

<aside id="leftsidebar" class="sidebar h_menu">
    <div class="container">
        <div class="row clearfix">
            <div class="col-12">
                <div class="menu">
                  <ul class="list">
                    <li class="header">MAIN</li>
                    <li class="active open"><a href="index.html"><i class="icon-grid"></i><span>Overview</span></a></li>
                   
                   
                    <!-- <li><a href="token.html"><img src="assets/images/logo1.svg" width="18" height="18" alt="sociocrypto"><span>Token</span></a>
                    <li><a href="top10.html"><span>What's going on?</span></a></li> -->
                    <!-- <li><a href="nft.html"><span>NFT</span></a></li>
                    <li><a href="development.html"><span>Development</span></a></li> -->
                  </ul>
                </div>
            </div>
        </div>
    </div>
</aside>

<!-- Main Content -->
<section class="content">
    <div class="container">
        <div class="row clearfix">
            <div class="col-lg-12">
                <div class="card">
                    <div class="body block-header">
                        <div class="row">
                            <div class="col-lg-6 col-md-8 col-sm-12">
                                
                                <ul class="breadcrumb p-l-0 p-b-0 ">
                                    <li class="breadcrumb-item"><a href="index.html"><i class="icon-home"></i></a></li>
                                    <li class="breadcrumb-item active">Overview</li>
                                </ul>
                            </div>            
                           
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row clearfix">
            <div class="col-xl-12 col-lg-12 col-md-12">
                <div class="card">
                    <div class="body">
                        <h4><strong>Chart 1</strong></h4>
        
                    </div>
                </div>
            </div>
        </div>
        <div class="row clearfix">
            <div class="col-xl-12 col-lg-12 col-md-12">
                <div class="card">
                    <div class="body">
                        <h4><strong>Chart 2</strong></h4>
        
                    </div>
                </div>
            </div>
        </div>
          
      
        
        <div class="row clearfix">
            <div class="col-md-12 col-lg-12">
                <div class="card">
                    <div class="body">
                        <div class="row clearfix">
                            <p class="copyright m-b-0 text-white col-lg-6" style="color: black!important;text-align: center;
                            font-size: larger;     margin-block: auto;">2023 Developed by <a href="https://twitter.com/SocioCrypto" target="_blank">Socio<strong>Crypto</strong></a></p>
                            <p class="copyright m-b-0 text-white col-lg-6" style="color: black!important;text-align: center;
                            font-size: larger;">
                                Data Powered by <img src="assets/images/flipside_logo.png"  height="70" alt="flipside">
                            </p>                
            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Jquery Core Js --> 
<script src="assets/bundles/libscripts.bundle.js"></script> <!-- Lib Scripts Plugin Js ( jquery.v3.2.1, Bootstrap4 js) --> 
<script src="assets/bundles/vendorscripts.bundle.js"></script> <!-- slimscroll, waves Scripts Plugin Js -->
<script src="assets/bundles/mainscripts.bundle.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/networkgraph.js"></script>
<script src="assets/js/pages/widgets/infobox/infobox-1.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
<script src="https://code.iconify.design/2/2.2.1/iconify.min.js"></script>
<script src="https://code.iconify.design/iconify-icon/1.0.2/iconify-icon.min.js"></script>
<script src="https://code.iconify.design/iconify-icon/1.0.5/iconify-icon.min.js"></script>
<script>
    function nFormatter(num) {
        if (num >= 1000000000) {
            return (num / 1000000000).toFixed(1).replace(/\.0$/, '') + 'G';
        }
        if (num >= 1000000) {
            return (num / 1000000).toFixed(1).replace(/\.0$/, '') + 'M';
        }
        if (num >= 1000) {
            return (num / 1000).toFixed(1).replace(/\.0$/, '') + 'K';
        }
        return num;
    }
        async function last_update() {
            const act_users = await fetch('https://node-api.flipsidecrypto.com/api/v2/queries/1a046688-da5d-4ad1-9571-68b45b036b43/data/latest');
            active_users = await act_users.json();
            document.getElementById('last_update').innerText = nFormatter(active_users[0]['DATE'].slice(0, 10));
            console.log(active_users)
        };
        last_update();
</script>



<script>
    async function number_act_users(){
        const act_users = await fetch('https://node-api.flipsidecrypto.com/api/v2/queries/1a046688-da5d-4ad1-9571-68b45b036b43/data/latest');
        active_users = await act_users.json();
        document.getElementById('num_active_users').innerText = active_users[0]['N_ACTIVE_WALLET'];
        console.log(active_users)
    };
    number_act_users();
    
    async function number_new_users(){
        const new_users = await fetch('https://node-api.flipsidecrypto.com/api/v2/queries/1a046688-da5d-4ad1-9571-68b45b036b43/data/latest');
        neww_users = await new_users.json();
        document.getElementById('num_new_users').innerText = neww_users[0]['N_NEW_WALLET'];
    };
    number_new_users();
   
    async function number_of_total_wallets(){
        const new_users = await fetch('https://node-api.flipsidecrypto.com/api/v2/queries/1a046688-da5d-4ad1-9571-68b45b036b43/data/latest');
        neww_users = await new_users.json();
        document.getElementById('number_of_total_wallets').innerText = neww_users[0]['CUM_WALLETS'];
    };
    number_of_total_wallets();
    


    async function diff_users(){
        const user_data = await fetch('https://node-api.flipsidecrypto.com/api/v2/queries/1a046688-da5d-4ad1-9571-68b45b036b43/data/latest');
        users_data = await user_data.json();

        
        diff_active_users = users_data[0]['N_ACTIVE_WALLET']-users_data[1]['N_ACTIVE_WALLET'];
        diff_active_users_id = document.getElementById('diff_active_users');
        diff_number_of_total_wallets_id = document.getElementById('diff_number_of_total_wallets');
        if(diff_active_users >= 0){
            diff_active_users_id.innerHTML = '+' + diff_active_users   
            $(diff_active_users_id).css('color', 'rgb(14, 203, 129)'); 
        }else{
            if(diff_active_users < 0){
                diff_active_users_id.innerHTML = diff_active_users
                $(diff_active_users_id).css('color', 'red'); 
            }
        }

        diff_new_users = users_data[0]['N_NEW_WALLET']-users_data[1]['N_NEW_WALLET'];
        diff_new_users_id = document.getElementById('diff_new_users');
        if(diff_new_users >= 0){
            diff_new_users_id.innerHTML = '+' + diff_new_users   
            $(diff_new_users_id).css('color', 'rgb(14, 203, 129)'); 
        }else{
            if(diff_new_users < 0){
                diff_new_users_id.innerHTML = diff_new_users
                $(diff_new_users_id).css('color', 'red'); 
            }
        }

        diff_number_of_total_wallets = users_data[0]['CUM_WALLETS']-users_data[1]['CUM_WALLETS'];
        diff_number_of_total_wallets_id = document.getElementById('diff_number_of_total_wallets');
        if(diff_number_of_total_wallets >= 0){
            diff_number_of_total_wallets_id.innerHTML = '+' + diff_number_of_total_wallets   
            $(diff_number_of_total_wallets_id).css('color', 'rgb(14, 203, 129)'); 
        }else{
            if(diff_number_of_total_wallets < 0){
                diff_number_of_total_wallets_id.innerHTML = diff_number_of_total_wallets
                $(diff_number_of_total_wallets_id).css('color', 'red'); 
            }
        }

    };

    diff_users()

</script>



<script>
    uwalls = [];
    nwalls = [];
    async function line_api(api){
        const line_main_data = await fetch(api);
        line_data = await line_main_data.json();
        for (let index = 0; index < line_data.length; index++) {
            const y_element = line_data[index];
            if (y_element['N_NEW_WALLET']!= null&y_element['N_ACTIVE_WALLET']!=null&y_element['DATE']!=null){
            // list.push(y_element['DATE'].slice(5,7)+'/'+y_element['DATE'].slice(8,10)+'/'+y_element['DATE'].slice(0,4))
            uwalls.push([y_element['DATE'].slice(5,7)+'/'+y_element['DATE'].slice(8,10)+'/'+y_element['DATE'].slice(0,4),y_element['N_ACTIVE_WALLET']]);
            nwalls.push([y_element['DATE'].slice(5,7)+'/'+y_element['DATE'].slice(8,10)+'/'+y_element['DATE'].slice(0,4),y_element['N_NEW_WALLET']]);
            }
            
        };
       
        var options = {
          series: [
          {
            name: "Active Wallets",
            labels:{
              style:{
                color:'white'
              }
            },
            data: uwalls
          },
          {
            name: "New Wallets",
            data: nwalls
          }
        ],
          chart: {
            id: 'line_chart',
          type: 'line',
          stacked: false,
          height: 450,
          zoom: {
            type: 'x',
            enabled: true,
            autoScaleYaxis: true
          },
          toolbar: {
            show:true,
            autoSelected: 'zoom',
            tools:{
              download: true,
              customIcons: [{
                  icon: '<a href="https://app.flipsidecrypto.com/velocity/queries/'+ api.split('/')[6]+'" target="blank_"><span class="iconify" data-icon="fa:database"></span></a>',
                  index: 5,
                  title: 'Query',
                  class: 'custom-icon'
                  }]
            } 
          }
        },
        dataLabels: {
          enabled: false
        },
        stroke: {
          curve: 'smooth',
          width: 2
        },
      //   markers: {
      //     size: 0,
      //   },
        title: {
          text: '',
          align: 'left',
          style:{
              color:'white'
            },
        },
      //   fill: {
      //     type: 'gradient',
      //     gradient: {
      //       shadeIntensity: 1,
      //       inverseColors: false,
      //       opacityFrom: 0.5,
      //       opacityTo: 0,
      //       stops: [0, 90, 100]
      //     },
      //   },
        yaxis: {
          labels: {
            formatter: function (val) {
              var result = (val / 10**3).toFixed(0);
              return result + 'k';
            },
            // style:{
            //   colors:['white']
            // }
            
          },
          title: {
            text: ''
          }
        },
        
        colors:['#0b2e5e', 'black'],
        legend:{
          show:true,
          // labels:{
            
          //   colors:'white'
            
          // }
        },
  
        xaxis: {
          type: 'datetime',
          labels:{
            // style:{
            //   colors:'white'
            // }
          }
        },
        tooltip: {
          shared: false,
          y: {
            formatter: function (val) {
              return (val).toFixed(0)
            }
          }
        }
        };
  
        var chart = new ApexCharts(document.querySelector("#chart_div"), options);
        chart.render(); 
    };
  </script>
<script>
    line_api('https://node-api.flipsidecrypto.com/api/v2/queries/1a046688-da5d-4ad1-9571-68b45b036b43/data/latest');
</script>

</body>
</html>

